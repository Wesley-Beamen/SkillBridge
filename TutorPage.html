<!-- BECOME -->
<section id="become" class="section">
  <h2>Become a Tutor</h2>
  <div class="card interview-card">
    <div id="interview-container">
      <div id="question-step"></div>
      <div id="response-area"></div>
    </div>
  </div>
</section>
<style>
  .interview-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    position: relative;
    overflow: hidden;
  }
  .interview-question {
    font-size: 1.3rem;
    margin-bottom: 20px;
    animation: fadeInUp 0.5s ease-out;
  }
  .interview-input {
    padding: 10px 14px;
    font-size: 1rem;
    border-radius: 8px;
    border: 2px solid var(--orange);
    width: 100%;
    max-width: 300px;
    margin-bottom: 10px;
    transition: box-shadow 0.2s ease;
  }
  .interview-input:focus {
    box-shadow: 0 0 10px rgba(255, 122, 24, 0.3);
  }
  .slider-value {
    font-weight: bold;
    color: var(--orange);
  }
  .subject-bubble {
    display: inline-block;
    background: rgba(255,122,24,0.1);
    border: 1px solid var(--orange);
    border-radius: 999px;
    padding: 8px 14px;
    margin: 5px;
    cursor: pointer;
    transition: all 0.2s;
  }
  .subject-bubble.selected {
    background: var(--orange);
    color: white;
    transform: scale(1.1);
  }
  .animated-bg {
    position: absolute;
    inset: 0;
    z-index: 0;
    opacity: 0.2;
    pointer-events: none;
  }
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .btn-next {
    background: linear-gradient(135deg, #ff7a18, #ffb347);
    color: white;
    border: none;
    border-radius: 12px;
    padding: 10px 16px;
    font-weight: bold;
    cursor: pointer;
  }
</style>
<script>
  // --- Animated conversational form flow ---
  const steps = [
    {
      question: "Hi there! Whatâ€™s your full name?",
      type: "text",
      placeholder: "Enter your full name",
      key: "name"
    },
    {
      question: "Awesome, nice to meet you! What grade range would you like to tutor?",
      type: "slider",
      min: 1,
      max: 8,
      key: "gradeRange"
    },
    {
      question: "Which subjects can you tutor?",
      type: "multi-select",
      options: ["Math", "Science", "English", "History", "Spanish", "Art"],
      key: "subjects"
    },
    {
      question: "Tell us a little about your experience or why youâ€™d be a great tutor:",
      type: "textarea",
      placeholder: "Write a short bio...",
      key: "bio"
    },
    {
      question: "All done! Ready to submit your application?",
      type: "submit"
    }
  ];
  let stepIndex = 0;
  const formData = {};
  const questionEl = document.getElementById("question-step");
  const responseEl = document.getElementById("response-area");
  function loadStep() {
    const step = steps[stepIndex];
    questionEl.innerHTML = `<div class="interview-question">${step.question}</div>`;
    responseEl.innerHTML = "";
    document.querySelectorAll(".animated-bg").forEach(e => e.remove());
    if (step.type === "text") {
      responseEl.innerHTML = `
        <input class="interview-input" type="text" placeholder="${step.placeholder}" id="respValue">
        <button class="btn-next" onclick="nextStep()">Next</button>
      `;
    } else if (step.type === "slider") {
      responseEl.innerHTML = `
        <input type="range" id="respSlider" min="${step.min}" max="${step.max}" value="4"
          class="interview-input">
        <div>Grade: <span class="slider-value" id="gradeDisplay">4</span></div>
        <button class="btn-next" onclick="nextStep()">Next</button>
      `;
      document.getElementById("respSlider").addEventListener("input", e => {
        document.getElementById("gradeDisplay").textContent = e.target.value;
      });
    } else if (step.type === "multi-select") {
      step.options.forEach(sub => {
        const div = document.createElement("div");
        div.textContent = sub;
        div.classList.add("subject-bubble");
        div.onclick = () => {
          div.classList.toggle("selected");
          animateSubject(sub);
        };
        responseEl.appendChild(div);
      });
      responseEl.innerHTML += `<br><button class="btn-next" onclick="nextStep()">Next</button>`;
    } else if (step.type === "textarea") {
      responseEl.innerHTML = `
        <textarea class="interview-input" rows="4" id="respValue" placeholder="${step.placeholder}"></textarea>
        <button class="btn-next" onclick="nextStep()">Submit</button>
      `;
    } else if (step.type === "submit") {
      responseEl.innerHTML = `<button class="btn-next" onclick="submitInterview()">Submit Application</button>`;
    }
  }
  function nextStep() {
    const step = steps[stepIndex];
    if (step.type === "text" || step.type === "textarea") {
      formData[step.key] = document.getElementById("respValue").value.trim();
    } else if (step.type === "slider") {
      formData[step.key] = document.getElementById("respSlider").value;
    } else if (step.type === "multi-select") {
      formData[step.key] = Array.from(document.querySelectorAll(".subject-bubble.selected")).map(
        el => el.textContent
      );
    }
    if (stepIndex < steps.length - 1) {
      stepIndex++;
      loadStep();
    }
  }
  function animateSubject(subject) {
    const bg = document.createElement("div");
    bg.classList.add("animated-bg");
    if (subject === "Science") {
      bg.style.background = "radial-gradient(circle, rgba(180,0,255,0.3) 10%, transparent 70%)";
      bg.style.animation = "none";
    } else if (subject === "English") {
      bg.style.background = "url('https://upload.wikimedia.org/wikipedia/commons/d/d2/Ink_pen_drawing.svg')";
      bg.style.backgroundSize = "contain";
      bg.style.backgroundRepeat = "no-repeat";
      bg.style.backgroundPosition = "center";
    } else if (subject === "Math") {
      bg.style.background = "repeating-linear-gradient(45deg, rgba(255,122,24,0.1), rgba(255,122,24,0.2) 10px)";
    }
    document.querySelector(".interview-card").appendChild(bg);
  }
  function submitInterview() {
    questionEl.innerHTML = `<div class="interview-question">Thank you, ${formData.name || "Tutor"}! ðŸŽ‰</div>`;
    responseEl.innerHTML = `<p style="color: var(--muted)">Your application has been received. We'll review it soon!</p>`;
  }
  loadStep();
</script>
